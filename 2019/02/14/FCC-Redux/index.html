<!DOCTYPE html>
<html lang=zh>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="过年之前看了FCC上的Redux，做了习题。">
<meta property="og:type" content="article">
<meta property="og:title" content="FCC: Redux">
<meta property="og:url" content="https://xuquan.site/2019/02/14/FCC-Redux/index.html">
<meta property="og:site_name" content="Nikkkki&#39;s Notes">
<meta property="og:description" content="过年之前看了FCC上的Redux，做了习题。">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2019-02-14T03:17:51.000Z">
<meta property="article:modified_time" content="2019-02-14T04:18:47.000Z">
<meta property="article:author" content="Xu Quan（Nikkkki）">
<meta property="article:tag" content="FreeCodeCamp">
<meta property="article:tag" content="Redux">
<meta property="article:tag" content="React">
<meta name="twitter:card" content="summary">
    
    
      
        
          <link rel="shortcut icon" href="/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>FCC: Redux</title>
    <!-- async scripts -->
    <!-- Google Analytics -->


    <!-- Umami Analytics -->


    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
	<!-- mathjax -->
	
<meta name="generator" content="Hexo 6.3.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="目录"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="目录"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="顶部" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa-solid fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <!--
       --><li><a href="/">首页</a></li><!--
     --><!--
       --><li><a href="/archives/">归档</a></li><!--
     --><!--
       --><li><a href="/tags/">标签</a></li><!--
     --><!--
       --><li><a href="/categories/">分类</a></li><!--
     -->
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" aria-label="上一篇" href="/2019/02/14/OKR%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><i class="fa-solid fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" aria-label="下一篇" href="/2018/12/05/React%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E9%AB%98%E9%98%B6/"><i class="fa-solid fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="返回顶部" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="分享文章" href="#"><i class="fa-solid fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">上一篇</span>
      <span id="i-next" class="info" style="display:none;">下一篇</span>
      <span id="i-top" class="info" style="display:none;">返回顶部</span>
      <span id="i-share" class="info" style="display:none;">分享文章</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://xuquan.site/2019/02/14/FCC-Redux/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://xuquan.site/2019/02/14/FCC-Redux/&text=FCC: Redux"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://xuquan.site/2019/02/14/FCC-Redux/&title=FCC: Redux"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://xuquan.site/2019/02/14/FCC-Redux/&is_video=false&description=FCC: Redux"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=FCC: Redux&body=Check out this article: https://xuquan.site/2019/02/14/FCC-Redux/"><i class="fa-solid fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://xuquan.site/2019/02/14/FCC-Redux/&title=FCC: Redux"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://xuquan.site/2019/02/14/FCC-Redux/&title=FCC: Redux"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://xuquan.site/2019/02/14/FCC-Redux/&title=FCC: Redux"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://xuquan.site/2019/02/14/FCC-Redux/&title=FCC: Redux"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://xuquan.site/2019/02/14/FCC-Redux/&name=FCC: Redux&description=&lt;p&gt;过年之前看了FCC上的Redux，做了习题。&lt;/p&gt;"><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://xuquan.site/2019/02/14/FCC-Redux/&t=FCC: Redux"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    
    
      <div id="toc">
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Redux"><span class="toc-number">1.</span> <span class="toc-text">Redux</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Create-a-redux-state"><span class="toc-number">1.1.</span> <span class="toc-text">Create a redux state</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Get-state-from-the-redux-store"><span class="toc-number">1.2.</span> <span class="toc-text">Get state from the redux store</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Define-a-redux-action"><span class="toc-number">1.3.</span> <span class="toc-text">Define a redux action</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Define-an-action-creator"><span class="toc-number">1.4.</span> <span class="toc-text">Define an action creator</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Dispatch-an-action-event"><span class="toc-number">1.5.</span> <span class="toc-text">Dispatch an action event</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Handle-an-action-in-the-store"><span class="toc-number">1.6.</span> <span class="toc-text">Handle an action in the store</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Use-a-switch-statement-to-handle-multiple-actions"><span class="toc-number">1.7.</span> <span class="toc-text">Use a switch statement to handle multiple actions</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#User-const-for-action-types"><span class="toc-number">1.8.</span> <span class="toc-text">User const for action types</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Register-a-store-listener"><span class="toc-number">1.9.</span> <span class="toc-text">Register a store listener</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Combine-multiple-reducers"><span class="toc-number">1.10.</span> <span class="toc-text">Combine multiple reducers</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Send-action-data-to-the-store"><span class="toc-number">1.11.</span> <span class="toc-text">Send action data to the store</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Use-middleware-to-handle-asynchronous-actions"><span class="toc-number">1.12.</span> <span class="toc-text">Use middleware to handle asynchronous actions</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Write-a-counter-with-redux"><span class="toc-number">1.13.</span> <span class="toc-text">Write a counter with redux</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Never-mutate-state"><span class="toc-number">1.14.</span> <span class="toc-text">Never mutate state</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Use-the-spread-operator-on-arrays"><span class="toc-number">1.15.</span> <span class="toc-text">Use the spread operator on arrays</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Remove-an-item-from-an-array"><span class="toc-number">1.16.</span> <span class="toc-text">Remove an item from an array</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Copy-an-object-with-Object-assign"><span class="toc-number">1.17.</span> <span class="toc-text">Copy an object with Object.assign</span></a></li></ol></li></ol>
      </div>
    
  </span>
</div>

    
    <div class="content index py4 ">
        
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle p-name" itemprop="name headline">
        FCC: Redux
    </h1>



    <div class="meta">
      <span class="author p-author h-card" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span class="p-name" itemprop="name">Xu Quan（Nikkkki）</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2019-02-14T03:17:51.000Z" class="dt-published" itemprop="datePublished">2019-02-14</time>
        
      
    </div>


      
    <div class="article-category">
        <i class="fa-solid fa-archive"></i>
        <a class="category-link" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a>
    </div>


      
    <div class="article-tag">
        <i class="fa-solid fa-tag"></i>
        <a class="p-category" href="/tags/FreeCodeCamp/" rel="tag">FreeCodeCamp</a>, <a class="p-category" href="/tags/React/" rel="tag">React</a>, <a class="p-category" href="/tags/Redux/" rel="tag">Redux</a>
    </div>


    </div>
  </header>
  

  <div class="content e-content" itemprop="articleBody">
    <p>过年之前看了FCC上的Redux，做了习题。</p>
<span id="more"></span>

<h2 id="Redux"><a href="#Redux" class="headerlink" title="Redux"></a>Redux</h2><h3 id="Create-a-redux-state"><a href="#Create-a-redux-state" class="headerlink" title="Create a redux state"></a>Create a redux state</h3><ul>
<li><p>Redux is a state management framework that can be used with a number of different web technologies, including React.</p>
</li>
<li><p>In Redux, there is a single state object that’s responsible for the entire state of your application. This means if you had a React app with ten components, and each component had its own local state, the entire state of your app would be defined by a single state object housed in the Redux <code>store</code></p>
</li>
<li><p>the Redux store is the single source of truth when it comes to application state.</p>
</li>
<li><p>This also means that any time any piece of your app wants to update state, it <strong>must</strong> do so through the Redux store.</p>
</li>
<li><p>The Redux <code>store</code>is an object which holds and manages application <code>state</code>. There is a method called <code>createStore()</code>on the Redux object, which you use to create the Redux <code>store</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">const reducer = (state = 5) =&gt; &#123;</span><br><span class="line">  return state;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// Redux methods are available from a Redux object</span><br><span class="line">// For example: Redux.createStore()</span><br><span class="line">// Define the store here:</span><br><span class="line"></span><br><span class="line">const store = Redux.createStore(reducer)</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="Get-state-from-the-redux-store"><a href="#Get-state-from-the-redux-store" class="headerlink" title="Get state from the redux store"></a>Get state from the redux store</h3><ul>
<li><p>The Redux store object provides several methods that allow you to interact with it. For example, you can retrieve the current <code>state</code>held in the Redux store object with the <code>getState()</code>method.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">const store = Redux.createStore(</span><br><span class="line">  (state = 5) =&gt; state</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">// change code below this line</span><br><span class="line">const currentState = store.getState()</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="Define-a-redux-action"><a href="#Define-a-redux-action" class="headerlink" title="Define a redux action"></a>Define a redux action</h3><ul>
<li><p>In Redux, all state updates are triggered by dispatching actions</p>
</li>
<li><p>An action is simply a JavaScript object that contains information about an action event that has occurred. The Redux store receives these action objects, then updates its state accordingly</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// Define an action here:</span><br><span class="line">const action = &#123;type: &#x27;LOGIN&#x27;&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="Define-an-action-creator"><a href="#Define-an-action-creator" class="headerlink" title="Define an action creator"></a>Define an action creator</h3><ul>
<li><p>An action creator is simply a JavaScript function that returns an action. In other words, action creators create objects that represent action events.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">const action = &#123;</span><br><span class="line">  type: &#x27;LOGIN&#x27;</span><br><span class="line">&#125;</span><br><span class="line">// Define an action creator here:</span><br><span class="line">const actionCreator = () =&gt; action</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="Dispatch-an-action-event"><a href="#Dispatch-an-action-event" class="headerlink" title="Dispatch an action event"></a>Dispatch an action event</h3><ul>
<li><p><code>dispatch</code>method is what you use to dispatch actions to the Redux store</p>
</li>
<li><p>Calling <code>store.dispatch()</code>and passing the value returned from an action creator sends an action back to the store.</p>
</li>
<li><p>the following lines are equivalent, and both dispatch the action of type <code>LOGIN</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">store.dispatch(actionCreator());</span><br><span class="line">store.dispatch(&#123; type: &#x27;LOGIN&#x27; &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">const store = Redux.createStore(</span><br><span class="line">  (state = &#123;login: false&#125;) =&gt; state</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">const loginAction = () =&gt; &#123;</span><br><span class="line">  return &#123;</span><br><span class="line">    type: &#x27;LOGIN&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">// Dispatch the action here:</span><br><span class="line">store.dispatch(loginAction())</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="Handle-an-action-in-the-store"><a href="#Handle-an-action-in-the-store" class="headerlink" title="Handle an action in the store"></a>Handle an action in the store</h3><ul>
<li><p>After an action is created and dispatched, the Redux store needs to know how to respond to that action. This is the job of a <code>reducer</code>function</p>
</li>
<li><p>A <code>reducer</code>takes <code>state</code>and <code>action</code>as arguments, and it always returns a new <code>state</code></p>
</li>
<li><p>It is important to see that this is the <strong>only</strong> role of the reducer. It has no side effects — it never calls an API endpoint and it never has any hidden surprises. The reducer is simply a pure function that takes state and action, then returns new state.</p>
</li>
<li><p>Another key principle in Redux is that <code>state</code>is read-only. In other words, the <code>reducer</code>function must <strong>always</strong> return a new copy of <code>state</code>and never modify state directly. </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">const defaultState = &#123;</span><br><span class="line">  login: false</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const reducer = (state = defaultState, action) =&gt; &#123;</span><br><span class="line">  // change code below this line</span><br><span class="line">  if(action.type === &#x27;LOGIN&#x27;) &#123;</span><br><span class="line">    return &#123; login: true &#125;</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    return defaultState</span><br><span class="line">  &#125;</span><br><span class="line">  // change code above this line</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const store = Redux.createStore(reducer);</span><br><span class="line"></span><br><span class="line">const loginAction = () =&gt; &#123;</span><br><span class="line">  return &#123;</span><br><span class="line">    type: &#x27;LOGIN&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="Use-a-switch-statement-to-handle-multiple-actions"><a href="#Use-a-switch-statement-to-handle-multiple-actions" class="headerlink" title="Use a switch statement to handle multiple actions"></a>Use a switch statement to handle multiple actions</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">const defaultState = &#123;</span><br><span class="line">  authenticated: false</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const authReducer = (state = defaultState, action) =&gt; &#123;</span><br><span class="line">  // change code below this line</span><br><span class="line">  switch(action.type) &#123;</span><br><span class="line">    case &#x27;LOGIN&#x27;:</span><br><span class="line">      return &#123; authenticated: true&#125;</span><br><span class="line">      break;</span><br><span class="line">    case &#x27;LOGOUT&#x27;:</span><br><span class="line">      return &#123; authenticated: false &#125;</span><br><span class="line">      break;</span><br><span class="line">    default:</span><br><span class="line">      return defaultState</span><br><span class="line">  &#125;</span><br><span class="line">  // change code above this line</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const store = Redux.createStore(authReducer);</span><br><span class="line"></span><br><span class="line">const loginUser = () =&gt; &#123;</span><br><span class="line">  return &#123;</span><br><span class="line">    type: &#x27;LOGIN&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const logoutUser = () =&gt; &#123;</span><br><span class="line">  return &#123;</span><br><span class="line">    type: &#x27;LOGOUT&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>



<h3 id="User-const-for-action-types"><a href="#User-const-for-action-types" class="headerlink" title="User const for action types"></a>User const for action types</h3><ul>
<li><p>A common practice when working with Redux is to assign action types as read-only constants, then reference these constants wherever they are used</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">// change code below this line</span><br><span class="line">const LOGIN = &#x27;LOGIN&#x27;</span><br><span class="line">const LOGOUT = &#x27;LOGOUT&#x27;</span><br><span class="line">// change code above this line</span><br><span class="line"></span><br><span class="line">const defaultState = &#123;</span><br><span class="line">  authenticated: false</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const authReducer = (state = defaultState, action) =&gt; &#123;</span><br><span class="line"></span><br><span class="line">  switch (action.type) &#123;</span><br><span class="line"></span><br><span class="line">    case LOGIN:</span><br><span class="line">      return &#123;</span><br><span class="line">        authenticated: true</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">    case LOGOUT:</span><br><span class="line">      return &#123;</span><br><span class="line">        authenticated: false</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">    default:</span><br><span class="line">      return state;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const store = Redux.createStore(authReducer);</span><br><span class="line"></span><br><span class="line">const loginUser = () =&gt; &#123;</span><br><span class="line">  return &#123;</span><br><span class="line">    type: LOGIN</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const logoutUser = () =&gt; &#123;</span><br><span class="line">  return &#123;</span><br><span class="line">    type: LOGOUT</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="Register-a-store-listener"><a href="#Register-a-store-listener" class="headerlink" title="Register a store listener"></a>Register a store listener</h3><ul>
<li><p>Another method you have access to on the Redux <code>store</code>object is <code>store.subscribe()</code>. This allows you to subscribe listener functions to the store, which are called whenever an action is dispatched against the store</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">const ADD = &#x27;ADD&#x27;;</span><br><span class="line"></span><br><span class="line">const reducer = (state = 0, action) =&gt; &#123;</span><br><span class="line">  switch(action.type) &#123;</span><br><span class="line">    case ADD:</span><br><span class="line">      return state + 1;</span><br><span class="line">    default:</span><br><span class="line">      return state;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const store = Redux.createStore(reducer);</span><br><span class="line"></span><br><span class="line">// global count variable:</span><br><span class="line">let count = 0;</span><br><span class="line"></span><br><span class="line">// change code below this line</span><br><span class="line">store.subscribe(() =&gt; count ++ )</span><br><span class="line">// change code above this line</span><br><span class="line"></span><br><span class="line">store.dispatch(&#123;type: ADD&#125;);</span><br><span class="line">console.log(count);</span><br><span class="line">store.dispatch(&#123;type: ADD&#125;);</span><br><span class="line">console.log(count);</span><br><span class="line">store.dispatch(&#123;type: ADD&#125;);</span><br><span class="line">console.log(count);</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="Combine-multiple-reducers"><a href="#Combine-multiple-reducers" class="headerlink" title="Combine multiple reducers"></a>Combine multiple reducers</h3><ul>
<li><p>When the state of your app begins to grow more complex, it may be tempting to divide state into multiple pieces. Instead, remember the first principle of Redux: all app state is held in a single state object in the store.</p>
</li>
<li><p>ou define multiple reducers to handle different pieces of your application’s state, then compose these reducers together into one root reducer. The root reducer is then passed into the Redux <code>createStore()</code>method.</p>
</li>
<li><p>In order to let us combine multiple reducers together, Redux provides the <code>combineReducers()</code>method. This method accepts an object as an argument in which you define properties which associate keys to specific reducer functions</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">const INCREMENT = &#x27;INCREMENT&#x27;;</span><br><span class="line">const DECREMENT = &#x27;DECREMENT&#x27;;</span><br><span class="line"></span><br><span class="line">const counterReducer = (state = 0, action) =&gt; &#123;</span><br><span class="line">  switch(action.type) &#123;</span><br><span class="line">    case INCREMENT:</span><br><span class="line">      return state + 1;</span><br><span class="line">    case DECREMENT:</span><br><span class="line">      return state - 1;</span><br><span class="line">    default:</span><br><span class="line">      return state;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const LOGIN = &#x27;LOGIN&#x27;;</span><br><span class="line">const LOGOUT = &#x27;LOGOUT&#x27;;</span><br><span class="line"></span><br><span class="line">const authReducer = (state = &#123;authenticated: false&#125;, action) =&gt; &#123;</span><br><span class="line">  switch(action.type) &#123;</span><br><span class="line">    case LOGIN:</span><br><span class="line">      return &#123;</span><br><span class="line">        authenticated: true</span><br><span class="line">      &#125;</span><br><span class="line">    case LOGOUT:</span><br><span class="line">      return &#123;</span><br><span class="line">        authenticated: false</span><br><span class="line">      &#125;</span><br><span class="line">    default:</span><br><span class="line">      return state;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const rootReducer = Redux.combineReducers(&#123;</span><br><span class="line">  count: counterReducer,</span><br><span class="line">  auth: authReducer,</span><br><span class="line">&#125;)// define the root reducer here</span><br><span class="line"></span><br><span class="line">const store = Redux.createStore(rootReducer);</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="Send-action-data-to-the-store"><a href="#Send-action-data-to-the-store" class="headerlink" title="Send action data to the store"></a>Send action data to the store</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">const ADD_NOTE = &#x27;ADD_NOTE&#x27;;</span><br><span class="line"></span><br><span class="line">const notesReducer = (state = &#x27;Initial State&#x27;, action) =&gt; &#123;</span><br><span class="line">  switch(action.type) &#123;</span><br><span class="line">    // change code below this line</span><br><span class="line">    case ADD_NOTE:</span><br><span class="line">      return state = action.text</span><br><span class="line">    // change code above this line</span><br><span class="line">    default:</span><br><span class="line">      return state;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const addNoteText = (note) =&gt; &#123;</span><br><span class="line">  // change code below this line</span><br><span class="line">  return &#123;</span><br><span class="line">    type: ADD_NOTE,</span><br><span class="line">    text: note,</span><br><span class="line">  &#125;</span><br><span class="line">  // change code above this line</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const store = Redux.createStore(notesReducer);</span><br><span class="line"></span><br><span class="line">console.log(store.getState());</span><br><span class="line">store.dispatch(addNoteText(&#x27;Hello!&#x27;));</span><br><span class="line">console.log(store.getState());</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="Use-middleware-to-handle-asynchronous-actions"><a href="#Use-middleware-to-handle-asynchronous-actions" class="headerlink" title="Use middleware to handle asynchronous actions"></a>Use middleware to handle asynchronous actions</h3><ul>
<li><p>At some point you’ll need to call asynchronous endpoints in your Redux app, so how do you handle these types of requests? Redux provides middleware designed specifically for this purpose, called Redux Thunk middleware</p>
</li>
<li><p>To include Redux Thunk middleware, you pass it as an argument to <code>Redux.applyMiddleware()</code>. This statement is then provided as a second optional parameter to the <code>createStore()</code>function. </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">const REQUESTING_DATA = &#x27;REQUESTING_DATA&#x27;</span><br><span class="line">const RECEIVED_DATA = &#x27;RECEIVED_DATA&#x27;</span><br><span class="line"></span><br><span class="line">const requestingData = () =&gt; &#123; return &#123;type: REQUESTING_DATA&#125; &#125;</span><br><span class="line">const receivedData = (data) =&gt; &#123; return &#123;type: RECEIVED_DATA, users: data.users&#125; &#125;</span><br><span class="line"></span><br><span class="line">const handleAsync = () =&gt; &#123;</span><br><span class="line">  return function(dispatch) &#123;</span><br><span class="line">    // dispatch request action here</span><br><span class="line">    store.dispatch(requestingData())</span><br><span class="line">    setTimeout(function() &#123;</span><br><span class="line">      let data = &#123;</span><br><span class="line">        users: [&#x27;Jeff&#x27;, &#x27;William&#x27;, &#x27;Alice&#x27;]</span><br><span class="line">      &#125;</span><br><span class="line">      // dispatch received data action here</span><br><span class="line">      store.dispatch(receivedData(data))</span><br><span class="line">    &#125;, 2500);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const defaultState = &#123;</span><br><span class="line">  fetching: false,</span><br><span class="line">  users: []</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const asyncDataReducer = (state = defaultState, action) =&gt; &#123;</span><br><span class="line">  switch(action.type) &#123;</span><br><span class="line">    case REQUESTING_DATA:</span><br><span class="line">      return &#123;</span><br><span class="line">        fetching: true,</span><br><span class="line">        users: []</span><br><span class="line">      &#125;</span><br><span class="line">    case RECEIVED_DATA:</span><br><span class="line">      return &#123;</span><br><span class="line">        fetching: false,</span><br><span class="line">        users: action.users</span><br><span class="line">      &#125;</span><br><span class="line">    default:</span><br><span class="line">      return state;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const store = Redux.createStore(</span><br><span class="line">  asyncDataReducer,</span><br><span class="line">  Redux.applyMiddleware(ReduxThunk.default)</span><br><span class="line">);</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="Write-a-counter-with-redux"><a href="#Write-a-counter-with-redux" class="headerlink" title="Write a counter with redux"></a>Write a counter with redux</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">const INCREMENT = &#x27;INCREMENT&#x27;; // define a constant for increment action types</span><br><span class="line">const DECREMENT = &#x27;DECREMENT&#x27;; // define a constant for decrement action types</span><br><span class="line"></span><br><span class="line">const counterReducer = (state = 0, action) =&gt; &#123;</span><br><span class="line">    switch(action.type) &#123;</span><br><span class="line">        case INCREMENT:</span><br><span class="line">            return ++ state </span><br><span class="line">        case DECREMENT:</span><br><span class="line">            return -- state</span><br><span class="line">        default:</span><br><span class="line">            return state</span><br><span class="line">    &#125;</span><br><span class="line">&#125;; // define the counter reducer which will increment or decrement the state based on the action it receives</span><br><span class="line"></span><br><span class="line">const incAction = () =&gt; &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">        type: INCREMENT</span><br><span class="line">    &#125;</span><br><span class="line">&#125;; // define an action creator for incrementing</span><br><span class="line"></span><br><span class="line">const decAction = () =&gt; &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">        type: DECREMENT</span><br><span class="line">    &#125;</span><br><span class="line">&#125;; // define an action creator for decrementing</span><br><span class="line"></span><br><span class="line">const store = Redux.createStore(counterReducer); // define the Redux store here, passing in your reducers</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="Never-mutate-state"><a href="#Never-mutate-state" class="headerlink" title="Never mutate state"></a>Never mutate state</h3><ul>
<li><p>Immutable state means that you never modify state directly, instead, you return a new copy of state.</p>
</li>
<li><p>If you took a snapshot of the state of a Redux app over time, you would see something like <code>state 1</code>, <code>state 2</code>, <code>state 3</code>,<code>state 4</code>, <code>...</code>and so on where each state may be similar to the last, but each is a distinct piece of data. </p>
</li>
<li><p>This immutability, in fact, is what provides such features as time-travel debugging that you may have heard about.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">const ADD_TO_DO = &#x27;ADD_TO_DO&#x27;;</span><br><span class="line"></span><br><span class="line">// A list of strings representing tasks to do:</span><br><span class="line">const todos = [</span><br><span class="line">  &#x27;Go to the store&#x27;,</span><br><span class="line">  &#x27;Clean the house&#x27;,</span><br><span class="line">  &#x27;Cook dinner&#x27;,</span><br><span class="line">  &#x27;Learn to code&#x27;,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">const immutableReducer = (state = todos, action) =&gt; &#123;</span><br><span class="line">  switch(action.type) &#123;</span><br><span class="line">    case ADD_TO_DO:</span><br><span class="line">      // don&#x27;t mutate state here or the tests will fail</span><br><span class="line">      return [</span><br><span class="line">          ...todos,</span><br><span class="line">          action.todo,</span><br><span class="line">      ]</span><br><span class="line">    default:</span><br><span class="line">      return state;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">// an example todo argument would be &#x27;Learn React&#x27;,</span><br><span class="line">const addToDo = (todo) =&gt; &#123;</span><br><span class="line">  return &#123;</span><br><span class="line">    type: ADD_TO_DO,</span><br><span class="line">    todo</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const store = Redux.createStore(immutableReducer);</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="Use-the-spread-operator-on-arrays"><a href="#Use-the-spread-operator-on-arrays" class="headerlink" title="Use the spread operator on arrays"></a>Use the spread operator on arrays</h3><ul>
<li><p>One solution from ES6 to help enforce state immutability in Redux is the spread operator: <code>...</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">const immutableReducer = (state = [&#x27;Do not mutate state!&#x27;], action) =&gt; &#123;</span><br><span class="line">  switch(action.type) &#123;</span><br><span class="line">    case &#x27;ADD_TO_DO&#x27;:</span><br><span class="line">      // don&#x27;t mutate state here or the tests will fail</span><br><span class="line">      return [...state, action.todo]</span><br><span class="line">    default:</span><br><span class="line">      return state;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const addToDo = (todo) =&gt; &#123;</span><br><span class="line">  return &#123;</span><br><span class="line">    type: &#x27;ADD_TO_DO&#x27;,</span><br><span class="line">    todo</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const store = Redux.createStore(immutableReducer);</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="Remove-an-item-from-an-array"><a href="#Remove-an-item-from-an-array" class="headerlink" title="Remove an item from an array"></a>Remove an item from an array</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">const immutableReducer = (state = [0,1,2,3,4,5], action) =&gt; &#123;</span><br><span class="line">  switch(action.type) &#123;</span><br><span class="line">    case &#x27;REMOVE_ITEM&#x27;:</span><br><span class="line">      // don&#x27;t mutate state here or the tests will fail</span><br><span class="line">      const result = [...state]</span><br><span class="line">      result.splice(action.index,1)</span><br><span class="line">      return result</span><br><span class="line">    default:</span><br><span class="line">      return state;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const removeItem = (index) =&gt; &#123;</span><br><span class="line">  return &#123;</span><br><span class="line">    type: &#x27;REMOVE_ITEM&#x27;,</span><br><span class="line">    index</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const store = Redux.createStore(immutableReducer);</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="Copy-an-object-with-Object-assign"><a href="#Copy-an-object-with-Object-assign" class="headerlink" title="Copy an object with Object.assign"></a>Copy an object with <code>Object.assign</code></h3><ul>
<li><p><code>Object.assign()</code>takes a target object and source objects and maps properties from the source objects to the target object</p>
</li>
<li><p>Any matching properties are overwritten by properties in the source objects</p>
</li>
<li><p>This behavior is commonly used to make shallow copies of objects by passing an empty object as the first argument followed by the object(s) you want to copy.</p>
</li>
<li><p><code>const newObject = Object.assign(&#123;&#125;, obj1, obj2)</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">const defaultState = &#123;</span><br><span class="line">  user: &#x27;CamperBot&#x27;,</span><br><span class="line">  status: &#x27;offline&#x27;,</span><br><span class="line">  friends: &#x27;732,982&#x27;,</span><br><span class="line">  community: &#x27;freeCodeCamp&#x27;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const immutableReducer = (state = defaultState, action) =&gt; &#123;</span><br><span class="line">  switch(action.type) &#123;</span><br><span class="line">    case &#x27;ONLINE&#x27;:</span><br><span class="line">      // don&#x27;t mutate state here or the tests will fail</span><br><span class="line">      return Object.assign(&#123;&#125;, defaultState, &#123;status: &#x27;online&#x27;&#125;)</span><br><span class="line">      return</span><br><span class="line">    default:</span><br><span class="line">      return state;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const wakeUp = () =&gt; &#123;</span><br><span class="line">  return &#123;</span><br><span class="line">    type: &#x27;ONLINE&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const store = Redux.createStore(immutableReducer);</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
        
          <li><a href="/">首页</a></li>
        
          <li><a href="/archives/">归档</a></li>
        
          <li><a href="/tags/">标签</a></li>
        
          <li><a href="/categories/">分类</a></li>
        
      </ul>
    </div>

    
    
      <div id="toc-footer" style="display: none">
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Redux"><span class="toc-number">1.</span> <span class="toc-text">Redux</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Create-a-redux-state"><span class="toc-number">1.1.</span> <span class="toc-text">Create a redux state</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Get-state-from-the-redux-store"><span class="toc-number">1.2.</span> <span class="toc-text">Get state from the redux store</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Define-a-redux-action"><span class="toc-number">1.3.</span> <span class="toc-text">Define a redux action</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Define-an-action-creator"><span class="toc-number">1.4.</span> <span class="toc-text">Define an action creator</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Dispatch-an-action-event"><span class="toc-number">1.5.</span> <span class="toc-text">Dispatch an action event</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Handle-an-action-in-the-store"><span class="toc-number">1.6.</span> <span class="toc-text">Handle an action in the store</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Use-a-switch-statement-to-handle-multiple-actions"><span class="toc-number">1.7.</span> <span class="toc-text">Use a switch statement to handle multiple actions</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#User-const-for-action-types"><span class="toc-number">1.8.</span> <span class="toc-text">User const for action types</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Register-a-store-listener"><span class="toc-number">1.9.</span> <span class="toc-text">Register a store listener</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Combine-multiple-reducers"><span class="toc-number">1.10.</span> <span class="toc-text">Combine multiple reducers</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Send-action-data-to-the-store"><span class="toc-number">1.11.</span> <span class="toc-text">Send action data to the store</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Use-middleware-to-handle-asynchronous-actions"><span class="toc-number">1.12.</span> <span class="toc-text">Use middleware to handle asynchronous actions</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Write-a-counter-with-redux"><span class="toc-number">1.13.</span> <span class="toc-text">Write a counter with redux</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Never-mutate-state"><span class="toc-number">1.14.</span> <span class="toc-text">Never mutate state</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Use-the-spread-operator-on-arrays"><span class="toc-number">1.15.</span> <span class="toc-text">Use the spread operator on arrays</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Remove-an-item-from-an-array"><span class="toc-number">1.16.</span> <span class="toc-text">Remove an item from an array</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Copy-an-object-with-Object-assign"><span class="toc-number">1.17.</span> <span class="toc-text">Copy an object with Object.assign</span></a></li></ol></li></ol>
      </div>
    

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://xuquan.site/2019/02/14/FCC-Redux/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://xuquan.site/2019/02/14/FCC-Redux/&text=FCC: Redux"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://xuquan.site/2019/02/14/FCC-Redux/&title=FCC: Redux"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://xuquan.site/2019/02/14/FCC-Redux/&is_video=false&description=FCC: Redux"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=FCC: Redux&body=Check out this article: https://xuquan.site/2019/02/14/FCC-Redux/"><i class="fa-solid fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://xuquan.site/2019/02/14/FCC-Redux/&title=FCC: Redux"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://xuquan.site/2019/02/14/FCC-Redux/&title=FCC: Redux"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://xuquan.site/2019/02/14/FCC-Redux/&title=FCC: Redux"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://xuquan.site/2019/02/14/FCC-Redux/&title=FCC: Redux"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://xuquan.site/2019/02/14/FCC-Redux/&name=FCC: Redux&description=&lt;p&gt;过年之前看了FCC上的Redux，做了习题。&lt;/p&gt;"><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://xuquan.site/2019/02/14/FCC-Redux/&t=FCC: Redux"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fa-solid fa-bars fa-lg" aria-hidden="true"></i> 菜单</a>
        
          <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fa-solid fa-list fa-lg" aria-hidden="true"></i> 目录</a>
        
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fa-solid fa-share-alt fa-lg" aria-hidden="true"></i> 分享</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up fa-lg" aria-hidden="true"></i> 返回顶部</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2018-2024
    Xu Quan（Nikkkki）
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        <!--
       --><li><a href="/">首页</a></li><!--
     --><!--
       --><li><a href="/archives/">归档</a></li><!--
     --><!--
       --><li><a href="/tags/">标签</a></li><!--
     --><!--
       --><li><a href="/categories/">分类</a></li><!--
     -->
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script>




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script>
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"复制到粘贴板！\">";
    btn += '<i class="fa-regular fa-clone"></i>';
    btn += '</span>';
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "复制成功！");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Disqus Comments -->

<!-- utterances Comments -->

</body>
</html>

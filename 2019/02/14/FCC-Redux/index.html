<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha256-CTSx/A06dm1B063156EVh15m6Y67pAjZZaQc89LLSrU=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"xuquan.site","root":"/","images":"/images","scheme":"Mist","darkmode":false,"version":"8.18.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="过年之前看了FCC上的Redux，做了习题。">
<meta property="og:type" content="article">
<meta property="og:title" content="FCC: Redux">
<meta property="og:url" content="https://xuquan.site/2019/02/14/FCC-Redux/index.html">
<meta property="og:site_name" content="Nikkkki&#39;s Notes">
<meta property="og:description" content="过年之前看了FCC上的Redux，做了习题。">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2019-02-14T03:17:51.000Z">
<meta property="article:modified_time" content="2019-02-14T04:18:47.000Z">
<meta property="article:author" content="Xu Quan（Nikkkki）">
<meta property="article:tag" content="FreeCodeCamp">
<meta property="article:tag" content="Redux">
<meta property="article:tag" content="React">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://xuquan.site/2019/02/14/FCC-Redux/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://xuquan.site/2019/02/14/FCC-Redux/","path":"2019/02/14/FCC-Redux/","title":"FCC: Redux"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>FCC: Redux | Nikkkki's Notes</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Nikkkki's Notes</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li>
  </ul>
</nav>




</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Redux"><span class="nav-number">1.</span> <span class="nav-text">Redux</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Create-a-redux-state"><span class="nav-number">1.1.</span> <span class="nav-text">Create a redux state</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Get-state-from-the-redux-store"><span class="nav-number">1.2.</span> <span class="nav-text">Get state from the redux store</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Define-a-redux-action"><span class="nav-number">1.3.</span> <span class="nav-text">Define a redux action</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Define-an-action-creator"><span class="nav-number">1.4.</span> <span class="nav-text">Define an action creator</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Dispatch-an-action-event"><span class="nav-number">1.5.</span> <span class="nav-text">Dispatch an action event</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Handle-an-action-in-the-store"><span class="nav-number">1.6.</span> <span class="nav-text">Handle an action in the store</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Use-a-switch-statement-to-handle-multiple-actions"><span class="nav-number">1.7.</span> <span class="nav-text">Use a switch statement to handle multiple actions</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#User-const-for-action-types"><span class="nav-number">1.8.</span> <span class="nav-text">User const for action types</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Register-a-store-listener"><span class="nav-number">1.9.</span> <span class="nav-text">Register a store listener</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Combine-multiple-reducers"><span class="nav-number">1.10.</span> <span class="nav-text">Combine multiple reducers</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Send-action-data-to-the-store"><span class="nav-number">1.11.</span> <span class="nav-text">Send action data to the store</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Use-middleware-to-handle-asynchronous-actions"><span class="nav-number">1.12.</span> <span class="nav-text">Use middleware to handle asynchronous actions</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Write-a-counter-with-redux"><span class="nav-number">1.13.</span> <span class="nav-text">Write a counter with redux</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Never-mutate-state"><span class="nav-number">1.14.</span> <span class="nav-text">Never mutate state</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Use-the-spread-operator-on-arrays"><span class="nav-number">1.15.</span> <span class="nav-text">Use the spread operator on arrays</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Remove-an-item-from-an-array"><span class="nav-number">1.16.</span> <span class="nav-text">Remove an item from an array</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Copy-an-object-with-Object-assign"><span class="nav-number">1.17.</span> <span class="nav-text">Copy an object with Object.assign</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Xu Quan（Nikkkki）"
      src="/images/avatar.jpeg">
  <p class="site-author-name" itemprop="name">Xu Quan（Nikkkki）</p>
  <div class="site-description" itemprop="description">一个程序员的自我进修之路</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">221</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">12</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">119</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/XuQuan-nikkkki" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;XuQuan-nikkkki" rel="noopener me" target="_blank"><i class="fa-brands fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:xuquan1225@gmail.com" title="E-Mail → mailto:xuquan1225@gmail.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.douban.com/people/nikkkki/?_i=8570912tq6k9lM" title="Douban → https:&#x2F;&#x2F;www.douban.com&#x2F;people&#x2F;nikkkki&#x2F;?_i&#x3D;8570912tq6k9lM" rel="noopener me" target="_blank"><i class="fa fa-book fa-fw"></i>Douban</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://xuquan.site/2019/02/14/FCC-Redux/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="Xu Quan（Nikkkki）">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Nikkkki's Notes">
      <meta itemprop="description" content="一个程序员的自我进修之路">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="FCC: Redux | Nikkkki's Notes">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          FCC: Redux
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2019-02-14 11:17:51 / 修改时间：12:18:47" itemprop="dateCreated datePublished" datetime="2019-02-14T11:17:51+08:00">2019-02-14</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">学习笔记</span></a>
        </span>
    </span>

  
    <span id="/2019/02/14/FCC-Redux/" class="post-meta-item leancloud_visitors" data-flag-title="FCC: Redux" title="阅读次数">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span class="leancloud-visitors-count"></span>
    </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2019/02/14/FCC-Redux/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/02/14/FCC-Redux/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><p>过年之前看了FCC上的Redux，做了习题。</p>
<span id="more"></span>

<h2 id="Redux"><a href="#Redux" class="headerlink" title="Redux"></a>Redux</h2><h3 id="Create-a-redux-state"><a href="#Create-a-redux-state" class="headerlink" title="Create a redux state"></a>Create a redux state</h3><ul>
<li><p>Redux is a state management framework that can be used with a number of different web technologies, including React.</p>
</li>
<li><p>In Redux, there is a single state object that’s responsible for the entire state of your application. This means if you had a React app with ten components, and each component had its own local state, the entire state of your app would be defined by a single state object housed in the Redux <code>store</code></p>
</li>
<li><p>the Redux store is the single source of truth when it comes to application state.</p>
</li>
<li><p>This also means that any time any piece of your app wants to update state, it <strong>must</strong> do so through the Redux store.</p>
</li>
<li><p>The Redux <code>store</code>is an object which holds and manages application <code>state</code>. There is a method called <code>createStore()</code>on the Redux object, which you use to create the Redux <code>store</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">const reducer = (state = 5) =&gt; &#123;</span><br><span class="line">  return state;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// Redux methods are available from a Redux object</span><br><span class="line">// For example: Redux.createStore()</span><br><span class="line">// Define the store here:</span><br><span class="line"></span><br><span class="line">const store = Redux.createStore(reducer)</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="Get-state-from-the-redux-store"><a href="#Get-state-from-the-redux-store" class="headerlink" title="Get state from the redux store"></a>Get state from the redux store</h3><ul>
<li><p>The Redux store object provides several methods that allow you to interact with it. For example, you can retrieve the current <code>state</code>held in the Redux store object with the <code>getState()</code>method.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">const store = Redux.createStore(</span><br><span class="line">  (state = 5) =&gt; state</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">// change code below this line</span><br><span class="line">const currentState = store.getState()</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="Define-a-redux-action"><a href="#Define-a-redux-action" class="headerlink" title="Define a redux action"></a>Define a redux action</h3><ul>
<li><p>In Redux, all state updates are triggered by dispatching actions</p>
</li>
<li><p>An action is simply a JavaScript object that contains information about an action event that has occurred. The Redux store receives these action objects, then updates its state accordingly</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// Define an action here:</span><br><span class="line">const action = &#123;type: &#x27;LOGIN&#x27;&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="Define-an-action-creator"><a href="#Define-an-action-creator" class="headerlink" title="Define an action creator"></a>Define an action creator</h3><ul>
<li><p>An action creator is simply a JavaScript function that returns an action. In other words, action creators create objects that represent action events.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">const action = &#123;</span><br><span class="line">  type: &#x27;LOGIN&#x27;</span><br><span class="line">&#125;</span><br><span class="line">// Define an action creator here:</span><br><span class="line">const actionCreator = () =&gt; action</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="Dispatch-an-action-event"><a href="#Dispatch-an-action-event" class="headerlink" title="Dispatch an action event"></a>Dispatch an action event</h3><ul>
<li><p><code>dispatch</code>method is what you use to dispatch actions to the Redux store</p>
</li>
<li><p>Calling <code>store.dispatch()</code>and passing the value returned from an action creator sends an action back to the store.</p>
</li>
<li><p>the following lines are equivalent, and both dispatch the action of type <code>LOGIN</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">store.dispatch(actionCreator());</span><br><span class="line">store.dispatch(&#123; type: &#x27;LOGIN&#x27; &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">const store = Redux.createStore(</span><br><span class="line">  (state = &#123;login: false&#125;) =&gt; state</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">const loginAction = () =&gt; &#123;</span><br><span class="line">  return &#123;</span><br><span class="line">    type: &#x27;LOGIN&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">// Dispatch the action here:</span><br><span class="line">store.dispatch(loginAction())</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="Handle-an-action-in-the-store"><a href="#Handle-an-action-in-the-store" class="headerlink" title="Handle an action in the store"></a>Handle an action in the store</h3><ul>
<li><p>After an action is created and dispatched, the Redux store needs to know how to respond to that action. This is the job of a <code>reducer</code>function</p>
</li>
<li><p>A <code>reducer</code>takes <code>state</code>and <code>action</code>as arguments, and it always returns a new <code>state</code></p>
</li>
<li><p>It is important to see that this is the <strong>only</strong> role of the reducer. It has no side effects — it never calls an API endpoint and it never has any hidden surprises. The reducer is simply a pure function that takes state and action, then returns new state.</p>
</li>
<li><p>Another key principle in Redux is that <code>state</code>is read-only. In other words, the <code>reducer</code>function must <strong>always</strong> return a new copy of <code>state</code>and never modify state directly. </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">const defaultState = &#123;</span><br><span class="line">  login: false</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const reducer = (state = defaultState, action) =&gt; &#123;</span><br><span class="line">  // change code below this line</span><br><span class="line">  if(action.type === &#x27;LOGIN&#x27;) &#123;</span><br><span class="line">    return &#123; login: true &#125;</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    return defaultState</span><br><span class="line">  &#125;</span><br><span class="line">  // change code above this line</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const store = Redux.createStore(reducer);</span><br><span class="line"></span><br><span class="line">const loginAction = () =&gt; &#123;</span><br><span class="line">  return &#123;</span><br><span class="line">    type: &#x27;LOGIN&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="Use-a-switch-statement-to-handle-multiple-actions"><a href="#Use-a-switch-statement-to-handle-multiple-actions" class="headerlink" title="Use a switch statement to handle multiple actions"></a>Use a switch statement to handle multiple actions</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">const defaultState = &#123;</span><br><span class="line">  authenticated: false</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const authReducer = (state = defaultState, action) =&gt; &#123;</span><br><span class="line">  // change code below this line</span><br><span class="line">  switch(action.type) &#123;</span><br><span class="line">    case &#x27;LOGIN&#x27;:</span><br><span class="line">      return &#123; authenticated: true&#125;</span><br><span class="line">      break;</span><br><span class="line">    case &#x27;LOGOUT&#x27;:</span><br><span class="line">      return &#123; authenticated: false &#125;</span><br><span class="line">      break;</span><br><span class="line">    default:</span><br><span class="line">      return defaultState</span><br><span class="line">  &#125;</span><br><span class="line">  // change code above this line</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const store = Redux.createStore(authReducer);</span><br><span class="line"></span><br><span class="line">const loginUser = () =&gt; &#123;</span><br><span class="line">  return &#123;</span><br><span class="line">    type: &#x27;LOGIN&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const logoutUser = () =&gt; &#123;</span><br><span class="line">  return &#123;</span><br><span class="line">    type: &#x27;LOGOUT&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>



<h3 id="User-const-for-action-types"><a href="#User-const-for-action-types" class="headerlink" title="User const for action types"></a>User const for action types</h3><ul>
<li><p>A common practice when working with Redux is to assign action types as read-only constants, then reference these constants wherever they are used</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">// change code below this line</span><br><span class="line">const LOGIN = &#x27;LOGIN&#x27;</span><br><span class="line">const LOGOUT = &#x27;LOGOUT&#x27;</span><br><span class="line">// change code above this line</span><br><span class="line"></span><br><span class="line">const defaultState = &#123;</span><br><span class="line">  authenticated: false</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const authReducer = (state = defaultState, action) =&gt; &#123;</span><br><span class="line"></span><br><span class="line">  switch (action.type) &#123;</span><br><span class="line"></span><br><span class="line">    case LOGIN:</span><br><span class="line">      return &#123;</span><br><span class="line">        authenticated: true</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">    case LOGOUT:</span><br><span class="line">      return &#123;</span><br><span class="line">        authenticated: false</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">    default:</span><br><span class="line">      return state;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const store = Redux.createStore(authReducer);</span><br><span class="line"></span><br><span class="line">const loginUser = () =&gt; &#123;</span><br><span class="line">  return &#123;</span><br><span class="line">    type: LOGIN</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const logoutUser = () =&gt; &#123;</span><br><span class="line">  return &#123;</span><br><span class="line">    type: LOGOUT</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="Register-a-store-listener"><a href="#Register-a-store-listener" class="headerlink" title="Register a store listener"></a>Register a store listener</h3><ul>
<li><p>Another method you have access to on the Redux <code>store</code>object is <code>store.subscribe()</code>. This allows you to subscribe listener functions to the store, which are called whenever an action is dispatched against the store</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">const ADD = &#x27;ADD&#x27;;</span><br><span class="line"></span><br><span class="line">const reducer = (state = 0, action) =&gt; &#123;</span><br><span class="line">  switch(action.type) &#123;</span><br><span class="line">    case ADD:</span><br><span class="line">      return state + 1;</span><br><span class="line">    default:</span><br><span class="line">      return state;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const store = Redux.createStore(reducer);</span><br><span class="line"></span><br><span class="line">// global count variable:</span><br><span class="line">let count = 0;</span><br><span class="line"></span><br><span class="line">// change code below this line</span><br><span class="line">store.subscribe(() =&gt; count ++ )</span><br><span class="line">// change code above this line</span><br><span class="line"></span><br><span class="line">store.dispatch(&#123;type: ADD&#125;);</span><br><span class="line">console.log(count);</span><br><span class="line">store.dispatch(&#123;type: ADD&#125;);</span><br><span class="line">console.log(count);</span><br><span class="line">store.dispatch(&#123;type: ADD&#125;);</span><br><span class="line">console.log(count);</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="Combine-multiple-reducers"><a href="#Combine-multiple-reducers" class="headerlink" title="Combine multiple reducers"></a>Combine multiple reducers</h3><ul>
<li><p>When the state of your app begins to grow more complex, it may be tempting to divide state into multiple pieces. Instead, remember the first principle of Redux: all app state is held in a single state object in the store.</p>
</li>
<li><p>ou define multiple reducers to handle different pieces of your application’s state, then compose these reducers together into one root reducer. The root reducer is then passed into the Redux <code>createStore()</code>method.</p>
</li>
<li><p>In order to let us combine multiple reducers together, Redux provides the <code>combineReducers()</code>method. This method accepts an object as an argument in which you define properties which associate keys to specific reducer functions</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">const INCREMENT = &#x27;INCREMENT&#x27;;</span><br><span class="line">const DECREMENT = &#x27;DECREMENT&#x27;;</span><br><span class="line"></span><br><span class="line">const counterReducer = (state = 0, action) =&gt; &#123;</span><br><span class="line">  switch(action.type) &#123;</span><br><span class="line">    case INCREMENT:</span><br><span class="line">      return state + 1;</span><br><span class="line">    case DECREMENT:</span><br><span class="line">      return state - 1;</span><br><span class="line">    default:</span><br><span class="line">      return state;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const LOGIN = &#x27;LOGIN&#x27;;</span><br><span class="line">const LOGOUT = &#x27;LOGOUT&#x27;;</span><br><span class="line"></span><br><span class="line">const authReducer = (state = &#123;authenticated: false&#125;, action) =&gt; &#123;</span><br><span class="line">  switch(action.type) &#123;</span><br><span class="line">    case LOGIN:</span><br><span class="line">      return &#123;</span><br><span class="line">        authenticated: true</span><br><span class="line">      &#125;</span><br><span class="line">    case LOGOUT:</span><br><span class="line">      return &#123;</span><br><span class="line">        authenticated: false</span><br><span class="line">      &#125;</span><br><span class="line">    default:</span><br><span class="line">      return state;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const rootReducer = Redux.combineReducers(&#123;</span><br><span class="line">  count: counterReducer,</span><br><span class="line">  auth: authReducer,</span><br><span class="line">&#125;)// define the root reducer here</span><br><span class="line"></span><br><span class="line">const store = Redux.createStore(rootReducer);</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="Send-action-data-to-the-store"><a href="#Send-action-data-to-the-store" class="headerlink" title="Send action data to the store"></a>Send action data to the store</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">const ADD_NOTE = &#x27;ADD_NOTE&#x27;;</span><br><span class="line"></span><br><span class="line">const notesReducer = (state = &#x27;Initial State&#x27;, action) =&gt; &#123;</span><br><span class="line">  switch(action.type) &#123;</span><br><span class="line">    // change code below this line</span><br><span class="line">    case ADD_NOTE:</span><br><span class="line">      return state = action.text</span><br><span class="line">    // change code above this line</span><br><span class="line">    default:</span><br><span class="line">      return state;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const addNoteText = (note) =&gt; &#123;</span><br><span class="line">  // change code below this line</span><br><span class="line">  return &#123;</span><br><span class="line">    type: ADD_NOTE,</span><br><span class="line">    text: note,</span><br><span class="line">  &#125;</span><br><span class="line">  // change code above this line</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const store = Redux.createStore(notesReducer);</span><br><span class="line"></span><br><span class="line">console.log(store.getState());</span><br><span class="line">store.dispatch(addNoteText(&#x27;Hello!&#x27;));</span><br><span class="line">console.log(store.getState());</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="Use-middleware-to-handle-asynchronous-actions"><a href="#Use-middleware-to-handle-asynchronous-actions" class="headerlink" title="Use middleware to handle asynchronous actions"></a>Use middleware to handle asynchronous actions</h3><ul>
<li><p>At some point you’ll need to call asynchronous endpoints in your Redux app, so how do you handle these types of requests? Redux provides middleware designed specifically for this purpose, called Redux Thunk middleware</p>
</li>
<li><p>To include Redux Thunk middleware, you pass it as an argument to <code>Redux.applyMiddleware()</code>. This statement is then provided as a second optional parameter to the <code>createStore()</code>function. </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">const REQUESTING_DATA = &#x27;REQUESTING_DATA&#x27;</span><br><span class="line">const RECEIVED_DATA = &#x27;RECEIVED_DATA&#x27;</span><br><span class="line"></span><br><span class="line">const requestingData = () =&gt; &#123; return &#123;type: REQUESTING_DATA&#125; &#125;</span><br><span class="line">const receivedData = (data) =&gt; &#123; return &#123;type: RECEIVED_DATA, users: data.users&#125; &#125;</span><br><span class="line"></span><br><span class="line">const handleAsync = () =&gt; &#123;</span><br><span class="line">  return function(dispatch) &#123;</span><br><span class="line">    // dispatch request action here</span><br><span class="line">    store.dispatch(requestingData())</span><br><span class="line">    setTimeout(function() &#123;</span><br><span class="line">      let data = &#123;</span><br><span class="line">        users: [&#x27;Jeff&#x27;, &#x27;William&#x27;, &#x27;Alice&#x27;]</span><br><span class="line">      &#125;</span><br><span class="line">      // dispatch received data action here</span><br><span class="line">      store.dispatch(receivedData(data))</span><br><span class="line">    &#125;, 2500);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const defaultState = &#123;</span><br><span class="line">  fetching: false,</span><br><span class="line">  users: []</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const asyncDataReducer = (state = defaultState, action) =&gt; &#123;</span><br><span class="line">  switch(action.type) &#123;</span><br><span class="line">    case REQUESTING_DATA:</span><br><span class="line">      return &#123;</span><br><span class="line">        fetching: true,</span><br><span class="line">        users: []</span><br><span class="line">      &#125;</span><br><span class="line">    case RECEIVED_DATA:</span><br><span class="line">      return &#123;</span><br><span class="line">        fetching: false,</span><br><span class="line">        users: action.users</span><br><span class="line">      &#125;</span><br><span class="line">    default:</span><br><span class="line">      return state;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const store = Redux.createStore(</span><br><span class="line">  asyncDataReducer,</span><br><span class="line">  Redux.applyMiddleware(ReduxThunk.default)</span><br><span class="line">);</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="Write-a-counter-with-redux"><a href="#Write-a-counter-with-redux" class="headerlink" title="Write a counter with redux"></a>Write a counter with redux</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">const INCREMENT = &#x27;INCREMENT&#x27;; // define a constant for increment action types</span><br><span class="line">const DECREMENT = &#x27;DECREMENT&#x27;; // define a constant for decrement action types</span><br><span class="line"></span><br><span class="line">const counterReducer = (state = 0, action) =&gt; &#123;</span><br><span class="line">    switch(action.type) &#123;</span><br><span class="line">        case INCREMENT:</span><br><span class="line">            return ++ state </span><br><span class="line">        case DECREMENT:</span><br><span class="line">            return -- state</span><br><span class="line">        default:</span><br><span class="line">            return state</span><br><span class="line">    &#125;</span><br><span class="line">&#125;; // define the counter reducer which will increment or decrement the state based on the action it receives</span><br><span class="line"></span><br><span class="line">const incAction = () =&gt; &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">        type: INCREMENT</span><br><span class="line">    &#125;</span><br><span class="line">&#125;; // define an action creator for incrementing</span><br><span class="line"></span><br><span class="line">const decAction = () =&gt; &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">        type: DECREMENT</span><br><span class="line">    &#125;</span><br><span class="line">&#125;; // define an action creator for decrementing</span><br><span class="line"></span><br><span class="line">const store = Redux.createStore(counterReducer); // define the Redux store here, passing in your reducers</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="Never-mutate-state"><a href="#Never-mutate-state" class="headerlink" title="Never mutate state"></a>Never mutate state</h3><ul>
<li><p>Immutable state means that you never modify state directly, instead, you return a new copy of state.</p>
</li>
<li><p>If you took a snapshot of the state of a Redux app over time, you would see something like <code>state 1</code>, <code>state 2</code>, <code>state 3</code>,<code>state 4</code>, <code>...</code>and so on where each state may be similar to the last, but each is a distinct piece of data. </p>
</li>
<li><p>This immutability, in fact, is what provides such features as time-travel debugging that you may have heard about.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">const ADD_TO_DO = &#x27;ADD_TO_DO&#x27;;</span><br><span class="line"></span><br><span class="line">// A list of strings representing tasks to do:</span><br><span class="line">const todos = [</span><br><span class="line">  &#x27;Go to the store&#x27;,</span><br><span class="line">  &#x27;Clean the house&#x27;,</span><br><span class="line">  &#x27;Cook dinner&#x27;,</span><br><span class="line">  &#x27;Learn to code&#x27;,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">const immutableReducer = (state = todos, action) =&gt; &#123;</span><br><span class="line">  switch(action.type) &#123;</span><br><span class="line">    case ADD_TO_DO:</span><br><span class="line">      // don&#x27;t mutate state here or the tests will fail</span><br><span class="line">      return [</span><br><span class="line">          ...todos,</span><br><span class="line">          action.todo,</span><br><span class="line">      ]</span><br><span class="line">    default:</span><br><span class="line">      return state;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">// an example todo argument would be &#x27;Learn React&#x27;,</span><br><span class="line">const addToDo = (todo) =&gt; &#123;</span><br><span class="line">  return &#123;</span><br><span class="line">    type: ADD_TO_DO,</span><br><span class="line">    todo</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const store = Redux.createStore(immutableReducer);</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="Use-the-spread-operator-on-arrays"><a href="#Use-the-spread-operator-on-arrays" class="headerlink" title="Use the spread operator on arrays"></a>Use the spread operator on arrays</h3><ul>
<li><p>One solution from ES6 to help enforce state immutability in Redux is the spread operator: <code>...</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">const immutableReducer = (state = [&#x27;Do not mutate state!&#x27;], action) =&gt; &#123;</span><br><span class="line">  switch(action.type) &#123;</span><br><span class="line">    case &#x27;ADD_TO_DO&#x27;:</span><br><span class="line">      // don&#x27;t mutate state here or the tests will fail</span><br><span class="line">      return [...state, action.todo]</span><br><span class="line">    default:</span><br><span class="line">      return state;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const addToDo = (todo) =&gt; &#123;</span><br><span class="line">  return &#123;</span><br><span class="line">    type: &#x27;ADD_TO_DO&#x27;,</span><br><span class="line">    todo</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const store = Redux.createStore(immutableReducer);</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="Remove-an-item-from-an-array"><a href="#Remove-an-item-from-an-array" class="headerlink" title="Remove an item from an array"></a>Remove an item from an array</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">const immutableReducer = (state = [0,1,2,3,4,5], action) =&gt; &#123;</span><br><span class="line">  switch(action.type) &#123;</span><br><span class="line">    case &#x27;REMOVE_ITEM&#x27;:</span><br><span class="line">      // don&#x27;t mutate state here or the tests will fail</span><br><span class="line">      const result = [...state]</span><br><span class="line">      result.splice(action.index,1)</span><br><span class="line">      return result</span><br><span class="line">    default:</span><br><span class="line">      return state;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const removeItem = (index) =&gt; &#123;</span><br><span class="line">  return &#123;</span><br><span class="line">    type: &#x27;REMOVE_ITEM&#x27;,</span><br><span class="line">    index</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const store = Redux.createStore(immutableReducer);</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="Copy-an-object-with-Object-assign"><a href="#Copy-an-object-with-Object-assign" class="headerlink" title="Copy an object with Object.assign"></a>Copy an object with <code>Object.assign</code></h3><ul>
<li><p><code>Object.assign()</code>takes a target object and source objects and maps properties from the source objects to the target object</p>
</li>
<li><p>Any matching properties are overwritten by properties in the source objects</p>
</li>
<li><p>This behavior is commonly used to make shallow copies of objects by passing an empty object as the first argument followed by the object(s) you want to copy.</p>
</li>
<li><p><code>const newObject = Object.assign(&#123;&#125;, obj1, obj2)</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">const defaultState = &#123;</span><br><span class="line">  user: &#x27;CamperBot&#x27;,</span><br><span class="line">  status: &#x27;offline&#x27;,</span><br><span class="line">  friends: &#x27;732,982&#x27;,</span><br><span class="line">  community: &#x27;freeCodeCamp&#x27;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const immutableReducer = (state = defaultState, action) =&gt; &#123;</span><br><span class="line">  switch(action.type) &#123;</span><br><span class="line">    case &#x27;ONLINE&#x27;:</span><br><span class="line">      // don&#x27;t mutate state here or the tests will fail</span><br><span class="line">      return Object.assign(&#123;&#125;, defaultState, &#123;status: &#x27;online&#x27;&#125;)</span><br><span class="line">      return</span><br><span class="line">    default:</span><br><span class="line">      return state;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const wakeUp = () =&gt; &#123;</span><br><span class="line">  return &#123;</span><br><span class="line">    type: &#x27;ONLINE&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const store = Redux.createStore(immutableReducer);</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/FreeCodeCamp/" rel="tag"># FreeCodeCamp</a>
              <a href="/tags/Redux/" rel="tag"># Redux</a>
              <a href="/tags/React/" rel="tag"># React</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2018/12/05/React%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E9%AB%98%E9%98%B6/" rel="prev" title="React学习笔记高阶">
                  <i class="fa fa-angle-left"></i> React学习笔记高阶
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2019/02/14/OKR%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" rel="next" title="OKR学习笔记">
                  OKR学习笔记 <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    
  <div class="comments" id="disqus_thread">
    <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
  </div>
  
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 2018 – 
    <span itemprop="copyrightYear">2024</span>
    <span class="with-love">
      <i class="fa fa-user"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Xu Quan（Nikkkki）</span>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  






  


  <script class="next-config" data-name="leancloud_visitors" type="application/json">{"enable":true,"app_id":"IcWbltr2BErnzeh08rQq5Awt-MdYXbMMI","app_key":"MBmkp7Em4UZXFeXVz4D0XIL2","server_url":null,"security":true}</script>
  <script src="/js/third-party/statistics/lean-analytics.js"></script>


<script class="next-config" data-name="disqus" type="application/json">{"enable":true,"shortname":"xuquan","count":true,"i18n":{"disqus":"disqus"}}</script>
<script src="/js/third-party/comments/disqus.js"></script>

</body>
</html>
